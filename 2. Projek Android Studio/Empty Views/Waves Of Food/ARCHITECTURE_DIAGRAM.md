# ğŸ—ï¸ ARCHITECTURE DIAGRAM

## WavesOfFood & AdminWOF Apps

---

## ğŸ“± PART A: WISHLIST ARCHITECTURE (WavesOfFood)

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                         USER INTERFACE                          â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                 â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”‚
â”‚  â”‚ ProductDetailActivityâ”‚        â”‚  FavoritesActivity   â”‚     â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤        â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤     â”‚
â”‚  â”‚ â€¢ Product Image      â”‚        â”‚ â€¢ RecyclerView       â”‚     â”‚
â”‚  â”‚ â€¢ Product Info       â”‚        â”‚   (Grid 2 cols)      â”‚     â”‚
â”‚  â”‚ â€¢ btnFavorite â­     â”‚â—„â”€â”€â”€â”€â”€â”€â”€â”¤ â€¢ ProductAdapter     â”‚     â”‚
â”‚  â”‚ â€¢ btnAddToCart       â”‚        â”‚ â€¢ Empty State        â”‚     â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â”‚
â”‚             â”‚                               â”‚                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
              â”‚                               â”‚
              â–¼                               â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                       VIEWMODEL LAYER                           â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                 â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚            FavoritesViewModel                          â”‚   â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤   â”‚
â”‚  â”‚ LiveData:                                              â”‚   â”‚
â”‚  â”‚  â€¢ favoriteProducts: LiveData<List<ProductModel>>     â”‚   â”‚
â”‚  â”‚  â€¢ isFavorite: LiveData<Boolean>                      â”‚   â”‚
â”‚  â”‚  â€¢ isLoading: LiveData<Boolean>                       â”‚   â”‚
â”‚  â”‚  â€¢ error: LiveData<String?>                           â”‚   â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤   â”‚
â”‚  â”‚ Methods:                                               â”‚   â”‚
â”‚  â”‚  â€¢ fetchFavoriteProducts()                            â”‚   â”‚
â”‚  â”‚  â€¢ toggleFavorite(productId, currentStatus)           â”‚   â”‚
â”‚  â”‚  â€¢ checkIsFavorite(productId)                         â”‚   â”‚
â”‚  â”‚  â€¢ removeFromFavorites(productId)                     â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                           â”‚                                    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                            â”‚
                            â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                      REPOSITORY LAYER                           â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                 â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚          EcommerceRepository                           â”‚   â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤   â”‚
â”‚  â”‚ Favorites Methods:                                     â”‚   â”‚
â”‚  â”‚  â€¢ toggleFavorite(userId, productId, isFavorite)      â”‚   â”‚
â”‚  â”‚    â†’ Update Firestore users/{uid}/favorites           â”‚   â”‚
â”‚  â”‚                                                        â”‚   â”‚
â”‚  â”‚  â€¢ getFavorites(userId): Result<List<String>>         â”‚   â”‚
â”‚  â”‚    â†’ Fetch user.favorites array                       â”‚   â”‚
â”‚  â”‚                                                        â”‚   â”‚
â”‚  â”‚  â€¢ getFavoriteProducts(userId): Result<List<Product>> â”‚   â”‚
â”‚  â”‚    â†’ Fetch favorites IDs                              â”‚   â”‚
â”‚  â”‚    â†’ Loop & fetch each product detail                 â”‚   â”‚
â”‚  â”‚    â†’ Return complete ProductModel list                â”‚   â”‚
â”‚  â”‚                                                        â”‚   â”‚
â”‚  â”‚  â€¢ isFavorite(userId, productId): Result<Boolean>     â”‚   â”‚
â”‚  â”‚    â†’ Check if productId in favorites array            â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                           â”‚                                    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                            â”‚
                            â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                      FIREBASE FIRESTORE                         â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                 â”‚
â”‚  users/                                                         â”‚
â”‚    {userId}/                                                    â”‚
â”‚      uid: "abc123"                                              â”‚
â”‚      email: "user@email.com"                                    â”‚
â”‚      name: "User Name"                                          â”‚
â”‚      address: "User Address"                                    â”‚
â”‚      cartItems: { "prod1": 2, "prod2": 1 }                     â”‚
â”‚      favorites: ["prod1", "prod3", "prod5"] â—„â”€â”€ NEW FIELD      â”‚
â”‚                                                                 â”‚
â”‚  products/                                                      â”‚
â”‚    {productId}/                                                 â”‚
â”‚      id: "prod1"                                                â”‚
â”‚      title: "Product Name"                                      â”‚
â”‚      price: 50000                                               â”‚
â”‚      category: "Food"                                           â”‚
â”‚      imageUrl: "https://..."                                    â”‚
â”‚      description: "..."                                         â”‚
â”‚                                                                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ› ï¸ PART B: ORDER MANAGEMENT ARCHITECTURE (AdminWOF)

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    ADMIN USER INTERFACE                         â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                 â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”‚
â”‚  â”‚OrdersManagementActivity       â”‚ OrderDetailActivity  â”‚     â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤        â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤     â”‚
â”‚  â”‚ â€¢ RecyclerView       â”‚        â”‚ â”Œâ”€ Customer Info â”€â” â”‚     â”‚
â”‚  â”‚   - Order Cards      â”‚        â”‚ â”‚ â€¢ Name          â”‚ â”‚     â”‚
â”‚  â”‚   - Order ID         â”‚        â”‚ â”‚ â€¢ Email         â”‚ â”‚     â”‚
â”‚  â”‚   - Date & Time      â”‚        â”‚ â”‚ â€¢ Address       â”‚ â”‚     â”‚
â”‚  â”‚   - Item Count       â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”¤ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚     â”‚
â”‚  â”‚   - Status (colored) â”‚   Clickâ”‚ â”Œâ”€ Order Info â”€â”€â”€â” â”‚     â”‚
â”‚  â”‚ â€¢ Empty State        â”‚        â”‚ â”‚ â€¢ Order ID      â”‚ â”‚     â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜        â”‚ â”‚ â€¢ Date & Time   â”‚ â”‚     â”‚
â”‚             â”‚                    â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚     â”‚
â”‚             â”‚                    â”‚ â”Œâ”€ Order Items â”€â”€â” â”‚     â”‚
â”‚             â”‚                    â”‚ â”‚ â€¢ RecyclerView  â”‚ â”‚     â”‚
â”‚             â”‚                    â”‚ â”‚ â€¢ Total Price   â”‚ â”‚     â”‚
â”‚             â”‚                    â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚     â”‚
â”‚             â”‚                    â”‚ â”Œâ”€ Status Update â”€â” â”‚     â”‚
â”‚             â”‚                    â”‚ â”‚ â€¢ Spinner       â”‚ â”‚     â”‚
â”‚             â”‚                    â”‚ â”‚ â€¢ Save Button   â”‚ â”‚     â”‚
â”‚             â”‚                    â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚     â”‚
â”‚             â”‚                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â”‚
â”‚             â”‚                               â”‚                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
              â”‚                               â”‚
              â–¼                               â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                       VIEWMODEL LAYER                           â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                 â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚               OrderViewModel                           â”‚   â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤   â”‚
â”‚  â”‚ LiveData:                                              â”‚   â”‚
â”‚  â”‚  â€¢ orders: LiveData<List<OrderModel>>                 â”‚   â”‚
â”‚  â”‚  â€¢ order: LiveData<OrderModel?>                       â”‚   â”‚
â”‚  â”‚  â€¢ user: LiveData<UserModel?>                         â”‚   â”‚
â”‚  â”‚  â€¢ orderItems: LiveData<List<OrderItemDetail>>        â”‚   â”‚
â”‚  â”‚  â€¢ totalPrice: LiveData<Double>                       â”‚   â”‚
â”‚  â”‚  â€¢ uiState: LiveData<UiState<String>>                 â”‚   â”‚
â”‚  â”‚  â€¢ isLoading / error                                   â”‚   â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤   â”‚
â”‚  â”‚ Methods:                                               â”‚   â”‚
â”‚  â”‚  â€¢ fetchAllOrders()                                   â”‚   â”‚
â”‚  â”‚    â†’ Call repo.fetchAllOrders()                       â”‚   â”‚
â”‚  â”‚                                                        â”‚   â”‚
â”‚  â”‚  â€¢ fetchOrderDetail(orderId)                          â”‚   â”‚
â”‚  â”‚    â†’ Call repo.fetchOrderById()                       â”‚   â”‚
â”‚  â”‚    â†’ Call repo.fetchUserById(order.userID)            â”‚   â”‚
â”‚  â”‚    â†’ Call fetchProductDetails(order.items)            â”‚   â”‚
â”‚  â”‚                                                        â”‚   â”‚
â”‚  â”‚  â€¢ updateOrderStatus(orderId, newStatus)              â”‚   â”‚
â”‚  â”‚    â†’ Validate with repo.validateOrderStatus()         â”‚   â”‚
â”‚  â”‚    â†’ Call repo.updateOrderStatus()                    â”‚   â”‚
â”‚  â”‚    â†’ Update uiState (Success/Error)                   â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                           â”‚                                    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                            â”‚
                            â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                      REPOSITORY LAYER                           â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                 â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚             AdminRepository                            â”‚   â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤   â”‚
â”‚  â”‚ Order Methods:                                         â”‚   â”‚
â”‚  â”‚                                                        â”‚   â”‚
â”‚  â”‚  â€¢ fetchAllOrders(): Result<List<OrderModel>>         â”‚   â”‚
â”‚  â”‚    â†’ Query: orders.orderBy("date", DESC)              â”‚   â”‚
â”‚  â”‚    â†’ Return sorted list                               â”‚   â”‚
â”‚  â”‚                                                        â”‚   â”‚
â”‚  â”‚  â€¢ fetchOrderById(orderId): Result<OrderModel>        â”‚   â”‚
â”‚  â”‚    â†’ Get orders/{orderId}                             â”‚   â”‚
â”‚  â”‚                                                        â”‚   â”‚
â”‚  â”‚  â€¢ fetchUserById(userId): Result<UserModel>           â”‚   â”‚
â”‚  â”‚    â†’ Get users/{userId}                               â”‚   â”‚
â”‚  â”‚    â†’ Return (id, name, email, address)                â”‚   â”‚
â”‚  â”‚                                                        â”‚   â”‚
â”‚  â”‚  â€¢ fetchProductById(productId): Result<ProductModel>  â”‚   â”‚
â”‚  â”‚    â†’ Get products/{productId}                         â”‚   â”‚
â”‚  â”‚                                                        â”‚   â”‚
â”‚  â”‚  â€¢ updateOrderStatus(orderId, status): Result<Unit>   â”‚   â”‚
â”‚  â”‚    â†’ Update orders/{orderId}.status                   â”‚   â”‚
â”‚  â”‚                                                        â”‚   â”‚
â”‚  â”‚  â€¢ validateOrderStatus(status): Boolean               â”‚   â”‚
â”‚  â”‚    â†’ Check against Constants.ORDER_STATUSES           â”‚   â”‚
â”‚  â”‚                                                        â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                           â”‚                                    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                            â”‚
                            â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                      FIREBASE FIRESTORE                         â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                 â”‚
â”‚  orders/                                                        â”‚
â”‚    {orderId}/                                                   â”‚
â”‚      id: "order123"                                             â”‚
â”‚      userID: "user456"                                          â”‚
â”‚      date: Timestamp(2025-10-15 14:30:00)                      â”‚
â”‚      items: {                                                   â”‚
â”‚        "prod1": 2,   // productId: quantity                    â”‚
â”‚        "prod2": 1                                               â”‚
â”‚      }                                                          â”‚
â”‚      status: "Processing"  â—„â”€â”€ UPDATED BY ADMIN               â”‚
â”‚      address: "Customer Address"                                â”‚
â”‚                                                                 â”‚
â”‚  users/                                                         â”‚
â”‚    {userId}/                                                    â”‚
â”‚      id: "user456"                                              â”‚
â”‚      name: "Customer Name"  â—„â”€â”€ DISPLAYED IN ORDER DETAIL     â”‚
â”‚      email: "customer@email.com"  â—„â”€â”€ FOR CONTACT             â”‚
â”‚      address: "Full Address"  â—„â”€â”€ SHIPPING INFO               â”‚
â”‚                                                                 â”‚
â”‚  products/                                                      â”‚
â”‚    {productId}/                                                 â”‚
â”‚      id: "prod1"                                                â”‚
â”‚      title: "Product Name"  â—„â”€â”€ DISPLAYED IN ORDER ITEMS      â”‚
â”‚      price: 50000  â—„â”€â”€ FOR SUBTOTAL CALCULATION                â”‚
â”‚      ...                                                        â”‚
â”‚                                                                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ”„ DATA FLOW DIAGRAM

### Favorites Toggle Flow

```
User Clicks â­
    â”‚
    â–¼
ProductDetailActivity.btnFavorite.onClick()
    â”‚
    â–¼
FavoritesViewModel.toggleFavorite(productId, currentStatus)
    â”‚
    â–¼
EcommerceRepository.toggleFavorite(userId, productId, !currentStatus)
    â”‚
    â”œâ”€â–º Get current user.favorites from Firestore
    â”œâ”€â–º Add/Remove productId from list
    â””â”€â–º Update Firestore: users/{uid}/favorites
    â”‚
    â–¼
Result<Unit>.onSuccess
    â”‚
    â”œâ”€â–º Update LiveData: isFavorite = !currentStatus
    â””â”€â–º Trigger UI update: updateFavoriteIcon(isFavorite)
```

### Order Status Update Flow

```
Admin Selects Status from Spinner
    â”‚
    â–¼
OrderDetailActivity.btnSaveChanges.onClick()
    â”‚
    â–¼
OrderViewModel.updateOrderStatus(orderId, selectedStatus)
    â”‚
    â”œâ”€â–º Validate: repository.validateOrderStatus(status)
    â”‚   â””â”€â–º Check against Constants.ORDER_STATUSES
    â”‚
    â–¼ [Valid]
AdminRepository.updateOrderStatus(orderId, status)
    â”‚
    â”œâ”€â–º Update Firestore: orders/{orderId}.status = newStatus
    â”‚
    â–¼
Result<Unit>.onSuccess
    â”‚
    â”œâ”€â–º Update UiState: Success("Status updated to $status")
    â”œâ”€â–º Show Toast: "Status Updated to Processing"
    â”œâ”€â–º Call finish() â†’ Close activity
    â”‚
    â–¼
OrdersManagementActivity.onResume()
    â”‚
    â””â”€â–º Auto-refresh: fetchAllOrders() â†’ See updated status
```

---

## ğŸ¨ ADAPTER HIERARCHY

### WavesOfFood

```
ProductAdapter (Existing)
    â””â”€â–º Used by:
        â”œâ”€â–º MainActivity (grid layout)
        â””â”€â–º FavoritesActivity (grid layout) â—„â”€â”€ REUSED
```

### AdminWOF

```
OrderAdapter (NEW)
    â”œâ”€â–º ViewHolder: OrderViewHolder
    â”œâ”€â–º Layout: item_order.xml
    â”œâ”€â–º DiffUtil: OrderDiffCallback
    â””â”€â–º Used by: OrdersManagementActivity

OrderItemAdapter (NEW)
    â”œâ”€â–º ViewHolder: OrderItemViewHolder
    â”œâ”€â–º Layout: item_order_item.xml
    â”œâ”€â–º DiffUtil: OrderItemDiffCallback
    â””â”€â–º Used by: OrderDetailActivity
```

---

## ğŸ“Š DEPENDENCY GRAPH

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                   APPLICATION LAYER                     â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”‚
â”‚  â”‚ WavesOfFoodApp   â”‚        â”‚  AdminWOFApp     â”‚      â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤        â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤      â”‚
â”‚  â”‚ â€¢ authRepository â”‚        â”‚ â€¢ authRepository â”‚      â”‚
â”‚  â”‚ â€¢ ecommerceRepo  â”‚        â”‚ â€¢ adminRepo      â”‚      â”‚
â”‚  â”‚ â€¢ viewModelFactoryâ”‚       â”‚ â€¢ viewModelFactoryâ”‚     â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜        â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â”‚
â”‚           â”‚                           â”‚                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
            â”‚                           â”‚
            â–¼                           â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                 VIEWMODEL FACTORY                       â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚  create(modelClass) {                           â”‚   â”‚
â”‚  â”‚    when (modelClass) {                          â”‚   â”‚
â”‚  â”‚      FavoritesViewModel â†’ new(ecommerceRepo)    â”‚   â”‚
â”‚  â”‚      OrderViewModel â†’ new(adminRepo)            â”‚   â”‚
â”‚  â”‚      ...                                        â”‚   â”‚
â”‚  â”‚    }                                            â”‚   â”‚
â”‚  â”‚  }                                              â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ—ï¸ LAYER ARCHITECTURE

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    PRESENTATION LAYER                   â”‚
â”‚  Activities, Fragments, Adapters, View Binding         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                     â”‚ Observes LiveData
                     â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    VIEWMODEL LAYER                      â”‚
â”‚  ViewModels, LiveData, Coroutines, Business Logic      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                     â”‚ Calls Repository
                     â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                   REPOSITORY LAYER                      â”‚
â”‚  Single Source of Truth, Data Operations               â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                     â”‚ Firebase Calls
                     â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    DATA LAYER                           â”‚
â”‚  Firebase Firestore, Firebase Storage, Firebase Auth   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ“ MVVM PATTERN

```
        View                ViewModel              Repository
    (Activity/Fragment)                           (Data Source)
         â”‚                      â”‚                      â”‚
    â”Œâ”€â”€â”€â”€â–¼â”€â”€â”€â”€â”           â”Œâ”€â”€â”€â”€â–¼â”€â”€â”€â”€â”           â”Œâ”€â”€â”€â”€â–¼â”€â”€â”€â”€â”
    â”‚         â”‚           â”‚         â”‚           â”‚         â”‚
    â”‚  User   â”‚â—„â”€Observeâ”€â”€â”‚LiveData â”‚â—„â”€â”€Resultâ”€â”€â”‚Firebase â”‚
    â”‚ Actions â”‚           â”‚         â”‚           â”‚Firestoreâ”‚
    â”‚         â”‚           â”‚         â”‚           â”‚         â”‚
    â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”˜           â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”˜           â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”˜
         â”‚                     â”‚                     â”‚
         â”‚                     â”‚                     â”‚
    Click/Input           Coroutine              suspend fun
         â”‚                 Launch                    â”‚
         â””â”€â”€â”€â”€â”€â”€Callâ”€â”€â”€â”€â”€â”€â”€â–ºâ”‚                       â”‚
                            â””â”€â”€â”€â”€â”€â”€â”€â”€â”€Callâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–ºâ”‚
                                                     â”‚
                            â—„â”€â”€â”€â”€Result<T>â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ”— NAVIGATION FLOW

### WavesOfFood

```
SplashActivity
    â”‚
    â”œâ”€â–º [Not Logged In] â†’ AuthActivity
    â”‚                       â””â”€â–º LoginActivity
    â”‚                       â””â”€â–º RegisterActivity
    â”‚
    â””â”€â–º [Logged In] â†’ MainActivity
                        â”œâ”€â–º ProductDetailActivity
                        â”‚   â””â”€â–º Toggle Favorite â­
                        â”‚
                        â”œâ”€â–º CartActivity
                        â”‚   â””â”€â–º CheckoutActivity
                        â”‚       â””â”€â–º OrderConfirmationActivity
                        â”‚
                        â”œâ”€â–º ProfileActivity
                        â”‚
                        â”œâ”€â–º OrdersActivity
                        â”‚   â””â”€â–º OrderDetailActivity
                        â”‚
                        â””â”€â–º FavoritesActivity â—„â”€â”€ NEW
                            â””â”€â–º ProductDetailActivity
```

### AdminWOF

```
AdminLoginActivity
    â”‚
    â””â”€â–º [Admin Email Verified] â†’ AdminMainActivity
                                    â”‚
                                    â”œâ”€â–º OrdersManagementActivity â—„â”€â”€ NEW
                                    â”‚   â””â”€â–º OrderDetailActivity â—„â”€â”€ NEW
                                    â”‚       â””â”€â–º Update Status
                                    â”‚           â””â”€â–º Back to List
                                    â”‚
                                    â””â”€â–º [Future: ProductFormActivity]
```

---

**END OF ARCHITECTURE DIAGRAM** ğŸ—ï¸

_Generated: 15 Oktober 2025_
